[
  {
    "id": "invoice_by_month_2020",
    "title": "Реализации по месяцам 2020",
    "description": "Количество накладных и суммарный вес по месяцам 2020 года.",
    "sql": "SELECT MONTH(invoice_date) AS month_num, COUNT(*) AS invoice_count, SUM(total_weight_kg) AS total_weight FROM invoice WHERE YEAR(invoice_date) = 2020 GROUP BY MONTH(invoice_date) ORDER BY MONTH(invoice_date);",
    "params": []
  },
  {
    "id": "client_activity",
    "title": "Активность клиента за период",
    "description": "Суммарный вес отгрузок по выбранному клиенту и году.",
    "sql": "SELECT c.full_name AS client_name, SUM(i.total_weight_kg) AS total_weight FROM invoice i JOIN client c ON c.id = i.client_id WHERE YEAR(i.invoice_date) = %(year)s AND c.full_name LIKE %(client)s GROUP BY c.full_name ORDER BY total_weight DESC;",
    "params": [
      {"name": "year", "label": "Год", "type": "number", "default": 2020, "required": true},
      {"name": "client", "label": "Имя клиента содержит", "type": "text", "placeholder": "ООО", "default": "%"}
    ]
  }
]
