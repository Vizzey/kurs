{% extends 'base.html' %}
{% set can_create = 'reports_create' in (session.get('user', {}).get('permissions', [])) %}
{% block content %}
<div class="panel">
    <div style="display:flex;justify-content:space-between;gap:12px;align-items:center;flex-wrap:wrap;">
        <div>
            <p class="eyebrow">–û—Ç—á–µ—Ç—ã</p>
            <h2>–ö–∞—Ç–∞–ª–æ–≥ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –æ—Ç—á–µ—Ç–æ–≤</h2>
            <p class="muted">–í—ã–±–µ—Ä–∏—Ç–µ –æ—Ç—á–µ—Ç, —á—Ç–æ–±—ã –≤—ã–ø–æ–ª–Ω–∏—Ç—å –µ–≥–æ –∏–ª–∏ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç.</p>
        </div>
        {% if can_create %}
        <a class="primary" href="{{ url_for('reports.create_report') }}">‚ûï –î–æ–±–∞–≤–∏—Ç—å –æ—Ç—á–µ—Ç</a>
        {% endif %}
    </div>

    {% if reports %}
    <div class="menu-grid" style="margin-top:18px;">
        {% for report in reports %}
        <a class="menu-card" href="{{ url_for('reports.view_report', report_id=report.id) if report.id else '#' }}">
            <div class="menu-card__icon" aria-hidden="true">üìà</div>
            <div class="menu-card__body">
                <h3>{{ report.title }}</h3>
                <p class="muted">{{ report.description or '–û–ø–∏—Å–∞–Ω–∏–µ –Ω–µ —É–∫–∞–∑–∞–Ω–æ.' }}</p>
            </div>
        </a>
        {% endfor %}
    </div>
    {% else %}
    <p class="muted">–ü–æ–∫–∞ –Ω–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –æ—Ç—á–µ—Ç–æ–≤.</p>
    {% endif %}
</div>
{% endblock %}
